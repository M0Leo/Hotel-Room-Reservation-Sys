<% layout('layouts/boilerplate') %>
    <form method="POST" action="/reservation" novalidate class="validated-form">
        <div class="row">
            <div class="col-3 mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>
            <div class="col-3 mb-3">
                <label for="phone" class="form-label">Phone</label>
                <input type="text" class="form-control" id="phone" name="phone" required>
            </div>
            <div class="col-3 mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text" class="form-control" id="address" name="address" required>
            </div>
            <div class="col-3 mb-3">
                <label for="nationality" class="form-label">Nationality</label>
                <input type="text" class="form-control" id="nationality" name="nationality" required>
            </div>
        </div>
        <div class="row">
            <div class="col-3 mb-3">
                <label for="checkIn" class="form-label">check in</label>
                <input type="date" class="form-control" id="checkin" name="checkIn" required>
            </div>
            <div class="col-3 mb-3">
                <label for="checkOut" class="form-label">checkout</label>
                <input type="date" class="form-control" id="checkout" name="checkOut" required>
            </div>
            <div class="col-3 mb-3">
                <label for="room" class="form-label">Room</label>
                <select id="room" class="form-select" name="room" required>
                    <option value="" selected disabled>--Please select a room--</option>
                    <% for (const room of rooms) { %>
                        <option value="<%= room.roomId %>">
                            <%= room.roomId %>
                        </option>
                        <% } %>
                </select>
            </div>
            <div class="col-3 mb-3">
                <label for="visitors" class="form-label">visitors</label>
                <input type="number" class="form-control" id="visitors" name="visitors" required>
            </div>
        </div>
        <div class="row">
            <div class="col-4 mb-3">
                <label for="type" class="form-label">Reservation Type</label>
                <select type="text" class="form-control" id="type" name="type" required>
                    <option value="" selected disabled>--Please select reservation type--</option>
                    <option value="Booking">Booking</option>
                    <option value="Contract">Contract</option>
                    <option value="Booked">Booked</option>
                </select>
            </div>
            <div class="col-4 mb-3">
                <label for="cost" class="form-label">Total Cost</label>
                <input type="number" class="form-control" id="cost" name="total" required>
            </div>
            <div class="col-4 mb-3">
                <label for="mode" class="form-label">Payment Mode</label>
                <select type="text" class="form-control" id="mode" name="paymentMode" required>
                    <option value="" selected disabled>--Please select reservation type--</option>
                    <option value="Visa">Visa</option>
                    <option value="Cash">Cash</option>
                </select>
            </div>
        </div>
        <button class="btn btn-dark mb-3" type="submit">Check in</button>
    </form>
    <a href="/reservation" class="btn btn-dark" role="button">All reservations</a>
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (() => {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            const forms = document.querySelectorAll('.validated-form')

            // Loop over them and prevent submission
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
        })()
    </script>